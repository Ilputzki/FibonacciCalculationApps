# FibonacciCalculationApps
## Описание
* *MessageReceiverApp* - приложение, которое при запуске начинает отправлять http-запросы другому приложению, содержащие в себе числа Фибоначчи. Параллельно с этим, оно подписывается на получение сообщений от другого приложения через очередь RabbitMQ. При получении вычисляется следующее число Фибоначчи и снова отправляется http-запросом.
* *HttpReceiverApp* - приложение, обрабатывающее http-запросы, вычисляющее следующие числа и отправляющее сообщения с числами в очередь RabbitMQ.
* *Processing* - проект, содержащий в себе интерфейсы и классы по вычислению чисел Фибоначчи.
* *Sending* - проект, содержащий в себе интерфейсы и классы по отправке запросов и сообщений.
## Настройка
Оба приложения содержат файлы настроек *appsettings.json* с возможностью настраивать значения:
* *ConnectionStrings* - раздел настроек подключения.
    * *RabbitMQ* - строка подключения к RabbitMQ.
    * *CalculatorServiceUri* - адрес приложения *HttpReceiverApp*.
* *MessagesHandlingServiceSettings* - раздел настроек обработчика сообщений из очереди.
    * *ThreadsNumber* - количество потоков, обрабатывающих сообщения и отправляющих запросы.
    * *BaseValue* - число Фибоначчи, которое будет отправлено первым.
    * *TransportationIdPattern* - шаблон для названия подписки на очередь.
* *FibonacciCalculationSettings* - раздел настроек вычисления чисел Фибоначчи.
    * *FirstNumber* - первое число Фибоначчи.
    * *SecondNumber* - второе число Фибоначчи.
    * *CacheSize* - размер кэша для вычисленных чисел.
## Порядок запуска
1. Убедиться, что в *appsettings.json* указаны актуальные строки подключения.
2. Запустить приложение *HttpReceiverApp* с адресом, указанным в настройках. Пример запуска из папки с проектом:
```sh
dotnet run --urls=https://localhost:7155
```
2. Запустить приложение *MessageReceiverApp*
